Log file initialized on 2024-12-03 17:29:39.510710
2024-12-03 17:29:39,511 - AuditService - INFO - Audit log data is valid. - extra={'audit_create_data': {'log_id': '631e785c-73bf-4ec0-ae47-acebb66c6559', 'user_id': '36906826-9558-4631-b4a6-c34d6109856d', 'action_type': 'READ', 'entity_type': 'block', 'entity_id': '973753b4-6995-4bc0-9318-df6cc9c6204b', 'timestamp': datetime.datetime(2024, 12, 3, 22, 29, 39, 506365, tzinfo=datetime.timezone.utc), 'details': '{"results_count": 10}'}}
2024-12-03 17:29:39,524 - AuditService - ERROR - Exception during audit log creation: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 5000 ms, however 5276 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction. - extra={'traceback': 'Traceback (most recent call last):\n  File "/Users/justinxiao/Downloads/CSCI2340/constellation-backend/api/backend/app/features/core/services/audit_service.py", line 111, in create_audit_log\n    created_log = await tx.auditlog.create(data=create_data)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/actions.py", line 1207, in create\n    resp = await self._client._execute(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/_base_client.py", line 543, in _execute\n    return await self._engine.query(builder.build(), tx_id=self._tx_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/engine/_query.py", line 402, in query\n    return await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/engine/_http.py", line 233, in request\n    return self._process_response_data(data=data, response=response)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/engine/_http.py", line 87, in _process_response_data\n    return utils.handle_response_errors(response, errors_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/justinxiao/Library/Caches/pypoetry/virtualenvs/backend-U0WszwrD-py3.12/lib/python3.12/site-packages/prisma/engine/utils.py", line 159, in handle_response_errors\n    raise prisma_errors.TransactionExpiredError(base_error_message)\nprisma.errors.TransactionExpiredError: Transaction already closed: A query cannot be executed on an expired transaction. The timeout for this transaction was 5000 ms, however 5276 ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.\n', 'audit_data': {'user_id': '36906826-9558-4631-b4a6-c34d6109856d', 'action_type': 'READ', 'entity_type': 'block', 'entity_id': '973753b4-6995-4bc0-9318-df6cc9c6204b', 'details': {'results_count': 10}}}
