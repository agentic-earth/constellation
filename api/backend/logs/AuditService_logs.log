Log file initialized on 2024-10-14 07:10:15.440867
2024-10-14 07:10:15,441 - AuditService - INFO - Audit log data is valid. - extra={'audit_create_data': {'log_id': 'cc487907-5807-4aea-8d98-3d8a49224cf4', 'user_id': '802e55c2-b804-40a6-bf26-7079cb6d5b80', 'action_type': <ActionTypeEnum.UPDATE: 'UPDATE'>, 'entity_type': <AuditEntityTypeEnum.profile: 'profile'>, 'entity_id': '802e55c2-b804-40a6-bf26-7079cb6d5b80', 'timestamp': datetime.datetime(2024, 10, 14, 7, 10, 15, 440542, tzinfo=datetime.timezone.utc), 'details': '{"updated_fields": {"username": "new_mason_lee"}}'}}
2024-10-14 07:10:15,675 - AuditService - INFO - Audit log created successfully. - log_id=cc487907-5807-4aea-8d98-3d8a49224cf4 - action_type=UPDATE - entity_type=profile - entity_id=802e55c2-b804-40a6-bf26-7079cb6d5b80
2024-10-14 07:10:16,204 - AuditService - INFO - Audit log data is valid. - extra={'audit_create_data': {'log_id': 'c6ff6907-7c48-413a-bdbb-836aa6445613', 'user_id': '802e55c2-b804-40a6-bf26-7079cb6d5b80', 'action_type': <ActionTypeEnum.CREATE: 'CREATE'>, 'entity_type': <AuditEntityTypeEnum.api_key: 'api_key'>, 'entity_id': 'w6wPERyeB8ZeHL2y7o9JzrJoF9oWC48TgNSC965AP2g', 'timestamp': datetime.datetime(2024, 10, 14, 7, 10, 16, 204282, tzinfo=datetime.timezone.utc), 'details': 'null'}}
2024-10-14 07:10:16,210 - AuditService - ERROR - Exception during audit log creation: Inconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `w` at 1 - extra={'traceback': 'Traceback (most recent call last):\n  File "/teamspace/studios/this_studio/constellation-backend/api/backend/app/features/core/services/audit_service.py", line 111, in create_audit_log\n    created_log = await tx.auditlog.create(data=create_data)\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/actions.py", line 1207, in create\n    resp = await self._client._execute(\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/_base_client.py", line 543, in _execute\n    return await self._engine.query(builder.build(), tx_id=self._tx_id)\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/engine/_query.py", line 402, in query\n    return await self.request(\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/engine/_http.py", line 233, in request\n    return self._process_response_data(data=data, response=response)\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/engine/_http.py", line 87, in _process_response_data\n    return utils.handle_response_errors(response, errors_data)\n  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/prisma/engine/utils.py", line 181, in handle_response_errors\n    raise prisma_errors.DataError(data[0])\nprisma.errors.DataError: Inconsistent column data: Error creating UUID, invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `w` at 1\n', 'audit_data': {'user_id': '802e55c2-b804-40a6-bf26-7079cb6d5b80', 'action_type': 'CREATE', 'entity_type': 'api_key', 'entity_id': 'w6wPERyeB8ZeHL2y7o9JzrJoF9oWC48TgNSC965AP2g', 'description': 'Created new API key for user 802e55c2-b804-40a6-bf26-7079cb6d5b80'}}
