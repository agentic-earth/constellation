Log file initialized on 2024-10-14 05:42:50.608629
2024-10-14 05:42:50,608 - UserService - INFO - Profile retrieved successfully by email - email=mason_lee@brown.edu
2024-10-14 05:42:50,609 - UserService - WARNING - Attempted to register existing email - email=mason_lee@brown.edu
2024-10-14 05:42:51,108 - UserService - INFO - User signed in successfully - user_id=802e55c2-b804-40a6-bf26-7079cb6d5b80
2024-10-14 05:42:51,237 - UserService - INFO - Profile retrieved successfully - user_id=802e55c2-b804-40a6-bf26-7079cb6d5b80
2024-10-14 05:42:51,491 - UserService - INFO - Profile updated successfully - user_id=802e55c2-b804-40a6-bf26-7079cb6d5b80
2024-10-14 05:42:51,757 - UserService - ERROR - Failed to delete user from Supabase Auth - error=Database error deleting user - traceback=Traceback (most recent call last):
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/gotrue/_sync/gotrue_base_api.py", line 120, in _request
    response.raise_for_status()
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/httpx/_models.py", line 763, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Server error '500 Internal Server Error' for url '/auth/v1/admin/users/802e55c2-b804-40a6-bf26-7079cb6d5b80'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/teamspace/studios/this_studio/constellation-backend/api/backend/app/features/core/services/user_service.py", line 214, in delete_user
    auth_response = self.supabase_admin.auth.admin.delete_user(str(user_id))
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/gotrue/_sync/gotrue_admin_api.py", line 166, in delete_user
    return self._request("DELETE", f"admin/users/{id}", body=body)
  File "/home/zeus/miniconda3/envs/cloudspace/lib/python3.10/site-packages/gotrue/_sync/gotrue_base_api.py", line 125, in _request
    raise handle_exception(e)
gotrue.errors.AuthApiError: Database error deleting user

